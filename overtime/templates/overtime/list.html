{% extends "page.html" %}

{% load custom i18n %}

{% block title %} Overtime List {% endblock %}

{% block pagecontent %}
<div class="pad-list">
	<h3>{% trans "Overtime List" %}</h3>
	<form action="{% url 'overtime:list' 1 %}" method="get">
		{{form}}
		<input type="submit" value="{% trans 'Filter' %}">
	</form>
	<div class="table-responsive">
		<table class="table table-striped">
			<tr>
				<th>{{object_list.model|verbose_name:'emp'|title}}</th>
				<th>{{object_list.model|verbose_name:'project'|title}}</th>
				<th>{{object_list.model|verbose_name:'date'|title}}</th>
				<th>{{object_list.model|verbose_name:'time'|title}}</th>
				<th>{{object_list.model|verbose_name:'request_hours'|title}}</th>
				<th>{{object_list.model|verbose_name:'actual_hours'|title}}</th>
				<th>{{object_list.model|verbose_name:'reason'|title}}</th>
			</tr>
			{% for ot in object_list %}
			<tr class="notice-me">
				<td>{{ot.emp}}</td>
				<td>{{ot.project}}</td>
				<td>{{ot.date}}</td>
				<td>{{ot.time}}</td>
				<td>{{ot.request_hours|floatformat}}</td>
				<td>{{ot.actual_hours|floatformat|default_if_none:''}}</td>
				<td>{{ot.reason}}</td>
			</tr>
			{% empty %}
			<tr><td>{% trans "No overtime records found" %}</td></tr>
			{% endfor %}
		</table>
	</div>
	<div class="row">
		<div class="col-xs-4 col-md-5"><hr style="border:none;color:#333;background-color:#333" /></div>
		<div class="col-xs-4 col-md-2" style="text-align: center;">
			<span style="font-size: 1.5em;">
				{% if page_obj.has_previous %}
					<a href="{% url 'overtime:list' page_obj.previous_page_number %}"><i class="glyphicon glyphicon-chevron-left" style="color: #333"></i></a>
				{% else %}
					<!-- placeholder to ensure it remains centered -->
					<i class="glyphicon glyphicon-chevron-left" style="visibility: hidden;"></i>
				{% endif%}
				<span>{{page_obj.number}}</span>
				{% if page_obj.has_next %}
					<a href="{% url 'overtime:list' page_obj.next_page_number %}"><i class="glyphicon glyphicon-chevron-right" style="color: #333"></i></a>
				{% else %}
					<!-- placeholder to ensure it remains centered -->
					<i class="glyphicon glyphicon-chevron-right" style="visibility: hidden"></i>
				{% endif%}
			</span>
		</div>
		<div class="col-xs-4 col-md-5"><hr style="border:none;color:#333;background-color:#333" /></div>
	</div>
</div>
{% endblock pagecontent %}